

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Get stereo camera correction image &mdash; MYNT® EYE S SDK Guide 2.3.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Get disparity image" href="get_disparity.html" />
    <link rel="prev" title="Get original binocular image" href="get_stereo.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> MYNT® EYE S SDK Guide
          

          
          </a>

          
            
            
              <div class="version">
                2.3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../mynteye/contents.html">MYNT® EYE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk/contents.html">MYNT® EYE SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firmware/contents.html">MYNT® EYE Firmware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="contents.html">MYNT® EYE Data</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="get_device_info.html">Get device information</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_img_params.html">Get image calibration parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_imu_params.html">Get IMU calibration parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_stereo.html">Get original binocular image</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Get stereo camera correction image</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_disparity.html">Get disparity image</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_depth.html">Get depth image</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_points.html">Get point image</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_imu.html">Get IMU data</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_from_callbacks.html">Get data from callbacks</a></li>
<li class="toctree-l2"><a class="reference internal" href="get_with_plugin.html">Using the plugin to get data</a></li>
<li class="toctree-l2"><a class="reference internal" href="save_params.html">Save device infomation and parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_img_params.html">Write image parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="write_imu_params.html">Write IMU parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../control/contents.html">MYNT® EYE Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../log/contents.html">Running log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wrapper/contents.html">Wrapper interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analytics/contents.html">Data Analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../slam/contents.html">SLAM</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MYNT® EYE S SDK Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="contents.html">MYNT® EYE Data</a> &raquo;</li>
        
      <li>Get stereo camera correction image</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/src/data/get_stereo_rectified.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="get-stereo-rectified">
<span id="id1"></span><h1>Get stereo camera correction image<a class="headerlink" href="#get-stereo-rectified" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">GetStreamData()</span></code> API provided can only get the raw data of the hardware, for example, the stereo camera raw image.</p>
<p>The stereo camera correction image belongs to the upper layer of synthetic data. For such data, you need to enable <code class="docutils literal notranslate"><span class="pre">EnableStreamData()</span></code> before you can get <code class="docutils literal notranslate"><span class="pre">GetStreamData()</span></code>.</p>
<p>In addition, <code class="docutils literal notranslate"><span class="pre">WaitForStreams()</span></code> waits for the key of the raw data. At the beginning when the synthetic data may still being processed, the value taken out will be null, so it needs to check not empty.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you want the synthetic data once it is generated, see <a class="reference internal" href="get_from_callbacks.html#get-from-callbacks"><span class="std std-ref">Get data from callbacks</span></a>.</p>
</div>
<p>Reference code snippet:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="o">&amp;&amp;</span><span class="n">api</span> <span class="o">=</span> <span class="n">API</span><span class="o">::</span><span class="n">Create</span><span class="p">(</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>

<span class="n">api</span><span class="o">-&gt;</span><span class="n">EnableStreamData</span><span class="p">(</span><span class="n">Stream</span><span class="o">::</span><span class="n">LEFT_RECTIFIED</span><span class="p">);</span>
<span class="n">api</span><span class="o">-&gt;</span><span class="n">EnableStreamData</span><span class="p">(</span><span class="n">Stream</span><span class="o">::</span><span class="n">RIGHT_RECTIFIED</span><span class="p">);</span>

<span class="n">api</span><span class="o">-&gt;</span><span class="n">Start</span><span class="p">(</span><span class="n">Source</span><span class="o">::</span><span class="n">VIDEO_STREAMING</span><span class="p">);</span>

<span class="n">cv</span><span class="o">::</span><span class="n">namedWindow</span><span class="p">(</span><span class="s">&quot;frame&quot;</span><span class="p">);</span>

<span class="k">while</span> <span class="p">(</span><span class="nb">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">api</span><span class="o">-&gt;</span><span class="n">WaitForStreams</span><span class="p">();</span>

  <span class="k">auto</span> <span class="o">&amp;&amp;</span><span class="n">left_data</span> <span class="o">=</span> <span class="n">api</span><span class="o">-&gt;</span><span class="n">GetStreamData</span><span class="p">(</span><span class="n">Stream</span><span class="o">::</span><span class="n">LEFT_RECTIFIED</span><span class="p">);</span>
  <span class="k">auto</span> <span class="o">&amp;&amp;</span><span class="n">right_data</span> <span class="o">=</span> <span class="n">api</span><span class="o">-&gt;</span><span class="n">GetStreamData</span><span class="p">(</span><span class="n">Stream</span><span class="o">::</span><span class="n">RIGHT_RECTIFIED</span><span class="p">);</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">left_data</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">empty</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="n">right_data</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span> <span class="p">{</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">Mat</span> <span class="n">img</span><span class="p">;</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">hconcat</span><span class="p">(</span><span class="n">left_data</span><span class="p">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">right_data</span><span class="p">.</span><span class="n">frame</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>
    <span class="n">cv</span><span class="o">::</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;frame&quot;</span><span class="p">,</span> <span class="n">img</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kt">char</span> <span class="n">key</span> <span class="o">=</span> <span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">cv</span><span class="o">::</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="mi">27</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;q&#39;</span> <span class="o">||</span> <span class="n">key</span> <span class="o">==</span> <span class="sc">&#39;Q&#39;</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// ESC/Q</span>
    <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">api</span><span class="o">-&gt;</span><span class="n">Stop</span><span class="p">(</span><span class="n">Source</span><span class="o">::</span><span class="n">VIDEO_STREAMING</span><span class="p">);</span>
</pre></div>
</div>
<p>OpenCV is used to display the image above. Select the display window, press <code class="docutils literal notranslate"><span class="pre">ESC/Q</span></code> to exit the program.</p>
<p>Complete code examples, see <a class="reference external" href="https://github.com/slightech/MYNT-EYE-S-SDK/blob/master/samples/tutorials/data/get_stereo_rectified.cc">get_stereo_rectified.cc</a> .</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="get_disparity.html" class="btn btn-neutral float-right" title="Get disparity image" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="get_stereo.html" class="btn btn-neutral" title="Get original binocular image" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MYNTAI

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>